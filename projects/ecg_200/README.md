# ECG時間序列分群與異常點檢測

本專案展示了一個基於Python的工作流程，用於對ECG（心電圖）時間序列數據進行分群與異常點檢測。透過**K-medoids分群**、**t-SNE降維**以及**Point-Wise Mahalanobis Distance**進行異常檢測，並使用**Plotly**生成互動式可視化圖表。


## 工作流程概述

1. **原始數據視覺化**：
   - 使用折線圖展示每條ECG信號的趨勢。

![ECG Trend](./plots/raw_data_trend.png)

1. **分群分析**：
   - 使用**歐幾里得距離**計算K-medoids分群，將數據分為三組。

2. **t-SNE降維**：
   - 使用t-SNE進行降維處理，在二維空間中視覺化分群結果。

3. **異常點檢測**：
   - 計算每個分群內的Mahalanobis距離以識別異常點。
   - 根據設定的閾值標記異常點並記錄其索引。

4. **異常點視覺化**：
   - 在每個分群內突出顯示異常點的信號。

5. **分佈分析**：
   - 繪製每個分群的Mahalanobis距離分佈直方圖。


## 視覺化內容

1. **原始數據趨勢**：
   - 展示所有ECG信號的重疊趨勢。

2. **分群後的信號趨勢**：
   - 使用不同顏色（`紅色`、`綠色`、`藍色`）展示每個分群內的信號。

3. **t-SNE降維投影**：
   - 包含兩個子圖：
     - 根據Mahalanobis距離的顏色進行展示。
     - 根據分群標籤的顏色進行展示。

4. **直方圖分析**：
   - 繪製每個分群內的Mahalanobis距離分佈。

5. **異常點高亮**：
   - 在每個分群內，以加粗或標黑的方式突出顯示異常點信號。


## 輸出內容

1. **分群分配結果**：
   - 為每條信號分配分群標籤（`0`、`1`或`2`）。

2. **異常點索引**：
   - 基於Mahalanobis距離閾值記錄檢測到的異常點索引。

3. **視覺化報告**：
   - 生成互動式圖表，幫助分析數據趨勢、分群結果與異常點。

---